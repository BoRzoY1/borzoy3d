backend:
  name: git-gateway # Используем Netlify Git Gateway для безопасного подключения к GitHub
  branch: main # Имя вашей основной ветки на GitHub (может быть "master")

# Куда CMS должна сохранять загруженные файлы с ПК
media_folder: "images/uploads" 
# Публичный путь к этим файлам, который будет использоваться на сайте
public_folder: "/images/uploads"

collections:
  - name: "portfolio"
    label: "Работы Портфолио"
    folder: "_data/portfolio" # Файлы данных будут храниться в этой папке на GitHub
    create: true 
    slug: "{{name}}" 
    extension: "json" # Тип файла данных (нам нужен JSON для простоты)

    fields:
      - {label: "Название Персонажа", name: "name", widget: "string", required: true}
      - {label: "Превью (thumb)", name: "thumb", widget: "image", required: true}

      - label: "Галерея Изображений"
        name: "images"
        widget: "list"
        fields:
          - {label: "Изображение", name: "image_path", widget: "image", required: true}

      - label: "Видеоматериалы"
        name: "videos"
        widget: "list"
        fields:
          # ВАЖНО: Виджет "file" позволяет загружать MP4, MOV и т.д.
          - {label: "Файл Видео (загрузка с ПК)", name: "video_path", widget: "file", required: true}
          - {label: "Комментарий", name: "comment", widget: "string", required: false}
